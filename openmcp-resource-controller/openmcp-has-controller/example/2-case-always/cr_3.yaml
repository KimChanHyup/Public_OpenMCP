apiVersion: openmcp.k8s.io/v1alpha1
kind: OpenMCPHybridAutoScaler
metadata:
  name: openmcp-hpa-test
  namespace: test
spec:
  hpaTemplate:
    spec:
      scaleTargetRef:
        kind: OpenMCPDeployment
        name: openmcp-pod-request
      minReplicas: 2
      maxReplicas: 10
      metrics:
        - type: Resource
          resource:
            name: cpu
            target:
              type: Utilization
              averageUtilization: 50
        - type: Object
          object:
            metric:
              name: network_receive_packets_total
            describedObject:
              apiVersion: v1
              kind: Pod
              name: openmcp-pod-test
            target:
              type: Value
              value: 100
  vpaMode: Auto
